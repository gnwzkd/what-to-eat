{"version":3,"sources":["webpack:///src/App.vue","webpack:///./src/App.vue?66ac","webpack:///./src/App.vue","webpack:///./src/main.js"],"names":["timer","App","name","mixins","lib","data","stores","storesStr","window","localStorage","getItem","JSON","parse","val","setItem","stringify_default","playing","result","favoriteStore","setting","show","state","currentStore","tmpFoods","validations","required","validators","methods","randomFood","length","this","foods","Math","floor","random","toggle","_this","setResult","_","setInterval","clearInterval","count","time","setTimeout","openSetting","closeSetting","editStore","store","addStore","menu","enable","push","backToStores","$v","$touch","$invalid","$reset","deleteStore","splice","indexOf","addMenu","menuStr","replace","trim","console","log","split","Array","prototype","apply","deleteFood","index","clearMenu","saveSetting","computed","storeI","menuI","_menuI","actionState","selectortype_template_index_0_src_App","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","md-mode","_v","on","click","md-active","md-fullscreen","update:mdActive","$event","$set","key","md-elevation","staticStyle","flex","md-direction","_l","model","value","callback","$$v","expression","_s","join","stopPropagation","_e","md-icon","md-label","md-description","class","md-invalid","$dirty","blur","placeholder","keypress","_k","keyCode","food","md-deletable","md-delete","for","id","md-dense","staticRenderFns","src_App","__webpack_require__","normalizeComponent","ssrContext","vue_esm","use","vue_material_default","a","config","productionTip","el","components","template"],"mappings":"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","file":"static/js/app.b9eba3afce2f06f2f5ff.js","sourcesContent":["<template>\n<div class=\"page-container\">\n  <md-app md-mode=\"fixed\">\n    <md-app-toolbar class=\"md-primary\">\n      <span class=\"md-title\">今天吃啥？</span>\n      <div class=\"md-toolbar-section-end\">\n        <md-button @click=\"openSetting\"\n                   class=\"md-icon-button\">\n          <md-icon>settings</md-icon>\n        </md-button>\n        <md-dialog :md-active.sync=\"setting.show\"\n                   class=\"setting-dialog\"\n                   :md-fullscreen=\"true\">\n          <div v-if=\"setting.state === 'store-list'\" key=\"store-list\" class=\"setting-view\">\n            <md-dialog-title>设置</md-dialog-title>\n            <md-toolbar class=\"md-primary\"\n                        md-elevation=\"1\">\n              <md-button @click=\"closeSetting\"\n                         class=\"md-icon-button\">\n                <md-icon>close</md-icon>\n              </md-button>\n              <h3 class=\"md-title\"\n                  style=\"flex: 1\">设置</h3>\n              <md-button @click=\"saveSetting\"\n                         class=\"md-icon-button\">\n                <md-icon>save</md-icon>\n              </md-button>\n            </md-toolbar>\n            <md-dialog-content class=\"view-transition\">\n              <md-list v-if=\"setting.stores.length\" class=\"store-list md-double-line\">\n                <md-subheader>\n                  <span>店铺</span>\n                  <md-button class=\"md-icon-button\" @click=\"addStore\">\n                    <md-icon>add</md-icon>\n                    <md-tooltip md-direction=\"top\">添加店铺</md-tooltip>\n                  </md-button>\n                </md-subheader>\n                <template v-for=\"(store, index) in setting.stores\">\n                  <md-list-item>\n                    <!-- <md-icon>store</md-icon> -->\n                    <md-checkbox v-model=\"store.enable\" />\n                    <div class=\"md-list-item-text\">\n                      <span>{{store.name}}</span>\n                      <p class=\"fafa\">\n                        {{store.menu.join(', ')}}\n                      </p>\n                    </div>\n                    <md-button class=\"md-icon-button md-list-action\" @click.stop=\"editStore(store)\">\n                      <md-icon>edit</md-icon>\n                    </md-button>\n                  </md-list-item>\n                  <md-divider class=\"md-inset\" v-if=\"index + 1 < setting.stores.length\"></md-divider>\n                </template>\n              </md-list>\n              <md-empty-state v-else\n                              md-icon=\"store\"\n                              md-label=\"没有店铺\"\n                              md-description=\"你真是怠惰呢。\">\n                <md-button class=\"md-primary md-raised\" @click=\"addStore\">添加</md-button>\n              </md-empty-state>\n              <md-button class=\"control-button fixed-fab md-fab md-plain\"\n                         @click=\"addStore\">\n                <md-icon>add</md-icon>\n              </md-button>\n            </md-dialog-content>\n            <md-dialog-actions>\n              <md-button class=\"md-primary\"\n                         @click=\"setting.show = false\">关闭</md-button>\n              <md-button class=\"md-primary\"\n                         @click=\"saveSetting\">保存</md-button>\n            </md-dialog-actions>\n          </div>\n          <div v-else-if=\"setting.state === 'edit-store'\" key=\"edit-store\" class=\"setting-view\">\n            <md-dialog-title>编辑</md-dialog-title>\n            <md-toolbar class=\"md-primary\"\n                        md-elevation=\"1\">\n              <md-button @click=\"backToStores\"\n                         class=\"md-icon-button\">\n                <md-icon>arrow_back</md-icon>\n              </md-button>\n              <h3 class=\"md-title\"\n                  style=\"flex: 1\">编辑</h3>\n              <md-button @click=\"deleteStore\"\n                         class=\"md-icon-button\">\n                <md-icon>delete</md-icon>\n              </md-button>\n            </md-toolbar>\n            <md-dialog-content class=\"view-transition\">\n              <md-field :class=\"{'md-invalid': $v.setting.currentStore.name.$dirty && $v.setting.currentStore.name.$invalid}\">\n                <label>店名</label>\n                <md-input v-model=\"setting.currentStore.name\" @blur=\"$v.setting.currentStore.name.$touch\" />\n                <span class=\"md-error\" v-if=\"!$v.setting.currentStore.name.required\">必须填写</span>\n              </md-field>\n              <md-field>\n                <label>添加菜单</label>\n                <md-input placeholder=\"菜单：空格隔开可添加多个\" v-model=\"setting.tmpFoods\" @keypress.enter=\"addMenu\" />\n                <md-button class=\"md-icon-button md-input-action\" @click=\"addMenu\">\n                  <md-icon>send</md-icon>\n                </md-button>\n              </md-field>\n              <p>\n                <md-chip v-for=\"(food, index) in setting.currentStore.menu\" :key=\"index\" md-deletable @md-delete=\"deleteFood(index)\" class=\"md-layout-item\">{{food}}</md-chip>\n                <md-chip v-if=\"setting.currentStore.menu.length\" md-deletable @md-delete=\"clearMenu\" class=\"md-accent md-layout-item\">清空</md-chip>\n              </p>\n            </md-dialog-content>\n            <md-dialog-actions>\n              <md-button class=\"md-primary\" @click=\"backToStores\">返回</md-button>\n              <md-button class=\"md-accent\" @click=\"deleteStore\">删除</md-button>\n            </md-dialog-actions>\n          </div>\n        </md-dialog>\n      </div>\n    </md-app-toolbar>\n    <md-app-content>\n      <md-card class=\"content-card\">\n        <md-card-header>\n          <md-field>\n            <label for=\"favorite-store\">店铺</label>\n            <md-select name=\"favorite-store\"\n                       id=\"favorite-store\"\n                       v-model=\"favoriteStore\"\n                       md-dense>\n              <md-option value=\"all\">随便，都行</md-option>\n              <md-option v-for=\"(store, index) in stores\"\n                         :key=\"index\" :value=\"index\">{{store.name}}</md-option>\n            </md-select>\n          </md-field>\n        </md-card-header>\n        <md-card-content>\n          <p class=\"result\" v-if=\"foods.length\">{{result || '&nbsp;'}}</p>\n          <md-empty-state v-else\n                          md-icon=\"restaurant_menu\"\n                          md-label=\"没有内容\"\n                          md-description=\"当前选择下没有内容，你可以去添加一些。\">\n            <md-button class=\"md-primary md-raised\" @click=\"openSetting\">添加</md-button>\n          </md-empty-state>\n        </md-card-content>\n      </md-card>\n      <md-button class=\"control-button fixed-fab md-fab md-plain\"\n                v-if=\"foods.length\"\n                 @click=\"toggle\">\n        <i class=\"action-icon\"\n           :class=\"actionState\"></i>\n      </md-button>\n    </md-app-content>\n  </md-app>\n</div>\n\n</template>\n\n<script>\nimport { validationMixin } from 'vuelidate'\nimport { required } from 'vuelidate/lib/validators'\n\nfunction storeTpl() {\n  return {\n    name: '',\n    menu: [],\n    enable: true\n  }\n}\n\nlet timer = null\n\nexport default {\n  name: 'App',\n  mixins: [validationMixin],\n  data() {\n    return {\n      get stores() {\n        const storesStr = window.localStorage.getItem('whatToEat.stores')\n        return storesStr ? JSON.parse(storesStr) : []\n      },\n      set stores(val) {\n        if (!val) return\n        window.localStorage.setItem('whatToEat.stores', JSON.stringify(val))\n      },\n      playing: false,\n      result: '',\n      favoriteStore: 'all',\n      setting: {\n        show: false,\n        stores: [],\n        state: 'store-list',\n        currentStore: null,\n        tmpFoods: ''\n      }\n    }\n  },\n  validations: {\n    setting: {\n      currentStore: {\n        name: {\n          required\n        }\n      }\n    }\n  },\n  methods: {\n    randomFood() {\n      const length = this.foods.length\n      return this.foods[Math.floor(Math.random() * length)]\n    },\n    toggle() {\n      this.playing = !this.playing\n      const setResult = _ => {\n        this.result = this.randomFood()\n      }\n      if (this.playing) {\n        timer = window.setInterval(setResult, 16.7)\n      } else {\n        timer && window.clearInterval(timer)\n        let [total, count, time, step] = [10, 10, 0, 16.7]\n        while (count--) {\n          time += step * (total - count) * 1.2\n          window.setTimeout(setResult, time)\n        }\n      }\n    },\n    openSetting() {\n      this.setting.stores = this.stores\n      this.setting.state = 'store-list'\n      this.setting.show = true\n    },\n    closeSetting() {\n      this.setting.stores = []\n      this.setting.show = false\n    },\n    editStore(store) {\n      this.setting.currentStore = store\n      this.setting.state = 'edit-store'\n    },\n    addStore() {\n      const currentStore = storeTpl()\n      this.setting.currentStore = currentStore\n      this.setting.stores.push(currentStore)\n      this.setting.state = 'edit-store'\n    },\n    backToStores() {\n      this.$v.setting.currentStore.name.$touch()\n      if (this.$v.setting.currentStore.name.$invalid) return\n      this.$v.setting.currentStore.name.$reset()\n      this.setting.state = 'store-list'\n    },\n    deleteStore() {\n      this.setting.stores.splice(this.setting.stores.indexOf(this.setting.currentStore), 1)\n      this.$v.setting.currentStore.name.$reset()\n      this.setting.state = 'store-list'\n    },\n    addMenu() {\n      const menuStr = this.setting.tmpFoods.replace(/\\s+/g, ' ').trim()\n      if (!menuStr) return\n      console.log(menuStr.split(' '))\n      Array.prototype.push.apply(this.setting.currentStore.menu, menuStr.split(' '))\n      this.setting.tmpFoods = ''\n    },\n    deleteFood(index) {\n      this.setting.currentStore.menu.splice(index, 1)\n    },\n    clearMenu() {\n      this.setting.currentStore.menu = []\n    },\n    saveSetting() {\n      this.stores = this.setting.stores\n      this.setting.show = false\n    }\n  },\n  computed: {\n    foods() {\n      const foods = []\n      if (this.favoriteStore === 'all') {\n        let storeI = this.stores.length\n        while (storeI--) {\n          if (this.stores[storeI].enable) {\n            let menuI = this.stores[storeI].menu.length\n            while (menuI--) {\n              foods.push(`${this.stores[storeI].menu[menuI]}@${this.stores[storeI].name}`)\n            }\n            // Array.prototype.push.apply(foods, this.stores[storeI].menu)\n          }\n        }\n      } else {\n        const menu = this.stores[this.favoriteStore].menu\n        let menuI = menu.length\n        while (menuI--) {\n          foods.push(menu[menuI])\n        }\n      }\n      return foods\n    },\n    actionState() {\n      return this.playing ? 'stop' : 'start'\n    }\n  }\n}\n\n</script>\n\n<style lang=\"less\">\nbody,\n.page-container,\n.md-app,\n.md-app-container {\n  height: 100%;\n  overflow: hidden;\n}\n\n.page-container .md-app-container .md-content {\n  background-color: #f1f1f1;\n  overflow: auto;\n  .content-card {\n    margin: 0;\n    .result {\n      font-size: 36px;\n      line-height: 1;\n      color: #333;\n      text-align: center;\n    }\n  }\n  .control-button {\n    .action-icon {\n      display: block;\n      width: 0;\n      height: 0;\n      box-sizing: content-box;\n      border-style: solid;\n      border-color: #fff;\n      transition: transform .3s, border .3s;\n      &.start {\n        transform: rotate(-90deg) translateY(1.89px);\n        border-left: 7px solid transparent;\n        border-right: 7px solid transparent;\n        border-top: 12.12px solid #fff;\n        border-bottom: 0px solid transparent;\n      }\n      &.stop {\n        border-width: 6px;\n      }\n    }\n  }\n}\n\n.md-fab.fixed-fab {\n  position: fixed;\n  margin: 0;\n  bottom: 14px;\n  right: 17px;\n  animation: fabAnimate .3s;\n}\n\n.md-chip {\n  margin: 4px;\n}\n\n@keyframes fabAnimate {\n  from {\n    transform: translateY(128px);\n  }\n  to {\n    transform: translateY(0);\n  }\n}\n\n.setting-dialog.md-dialog {\n  overflow: hidden;\n  .setting-view {\n    display: flex;\n    flex-flow: column;\n    flex: 1;\n    .view-transition {\n      animation: viewTransition .3s\n    }\n    @keyframes viewTransition {\n      from {\n        opacity: 0;\n        transform: translateX(64px)\n      }\n      to {\n        opacity: 1;\n        transform: translateY(0)\n      }\n    }\n\n  }\n  .fixed-fab,\n  .md-toolbar {\n    display: none;\n  }\n  @media (max-width: 600px) {\n    .fixed-fab {\n      display: block;\n    }\n    .md-toolbar {\n      display: flex;\n    }\n    .md-dialog-title,\n    .md-dialog-actions,\n    .md-subheader .md-button {\n      display: none;\n    }\n    transition-duration: .3s;\n    &.md-dialog-fullscreen {\n      &.md-dialog-enter-active,\n      &.md-dialog-leave-active {\n        transform: translateY(100%);\n      }\n    }\n  }\n  .store-list .md-list-item-text p {\n    white-space: normal;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-container\"},[_c('md-app',{attrs:{\"md-mode\":\"fixed\"}},[_c('md-app-toolbar',{staticClass:\"md-primary\"},[_c('span',{staticClass:\"md-title\"},[_vm._v(\"今天吃啥？\")]),_vm._v(\" \"),_c('div',{staticClass:\"md-toolbar-section-end\"},[_c('md-button',{staticClass:\"md-icon-button\",on:{\"click\":_vm.openSetting}},[_c('md-icon',[_vm._v(\"settings\")])],1),_vm._v(\" \"),_c('md-dialog',{staticClass:\"setting-dialog\",attrs:{\"md-active\":_vm.setting.show,\"md-fullscreen\":true},on:{\"update:mdActive\":function($event){_vm.$set(_vm.setting, \"show\", $event)}}},[(_vm.setting.state === 'store-list')?_c('div',{key:\"store-list\",staticClass:\"setting-view\"},[_c('md-dialog-title',[_vm._v(\"设置\")]),_vm._v(\" \"),_c('md-toolbar',{staticClass:\"md-primary\",attrs:{\"md-elevation\":\"1\"}},[_c('md-button',{staticClass:\"md-icon-button\",on:{\"click\":_vm.closeSetting}},[_c('md-icon',[_vm._v(\"close\")])],1),_vm._v(\" \"),_c('h3',{staticClass:\"md-title\",staticStyle:{\"flex\":\"1\"}},[_vm._v(\"设置\")]),_vm._v(\" \"),_c('md-button',{staticClass:\"md-icon-button\",on:{\"click\":_vm.saveSetting}},[_c('md-icon',[_vm._v(\"save\")])],1)],1),_vm._v(\" \"),_c('md-dialog-content',{staticClass:\"view-transition\"},[(_vm.setting.stores.length)?_c('md-list',{staticClass:\"store-list md-double-line\"},[_c('md-subheader',[_c('span',[_vm._v(\"店铺\")]),_vm._v(\" \"),_c('md-button',{staticClass:\"md-icon-button\",on:{\"click\":_vm.addStore}},[_c('md-icon',[_vm._v(\"add\")]),_vm._v(\" \"),_c('md-tooltip',{attrs:{\"md-direction\":\"top\"}},[_vm._v(\"添加店铺\")])],1)],1),_vm._v(\" \"),_vm._l((_vm.setting.stores),function(store,index){return [_c('md-list-item',[_c('md-checkbox',{model:{value:(store.enable),callback:function ($$v) {_vm.$set(store, \"enable\", $$v)},expression:\"store.enable\"}}),_vm._v(\" \"),_c('div',{staticClass:\"md-list-item-text\"},[_c('span',[_vm._v(_vm._s(store.name))]),_vm._v(\" \"),_c('p',{staticClass:\"fafa\"},[_vm._v(\"\\n                        \"+_vm._s(store.menu.join(', '))+\"\\n                      \")])]),_vm._v(\" \"),_c('md-button',{staticClass:\"md-icon-button md-list-action\",on:{\"click\":function($event){$event.stopPropagation();_vm.editStore(store)}}},[_c('md-icon',[_vm._v(\"edit\")])],1)],1),_vm._v(\" \"),(index + 1 < _vm.setting.stores.length)?_c('md-divider',{staticClass:\"md-inset\"}):_vm._e()]})],2):_c('md-empty-state',{attrs:{\"md-icon\":\"store\",\"md-label\":\"没有店铺\",\"md-description\":\"你真是怠惰呢。\"}},[_c('md-button',{staticClass:\"md-primary md-raised\",on:{\"click\":_vm.addStore}},[_vm._v(\"添加\")])],1),_vm._v(\" \"),_c('md-button',{staticClass:\"control-button fixed-fab md-fab md-plain\",on:{\"click\":_vm.addStore}},[_c('md-icon',[_vm._v(\"add\")])],1)],1),_vm._v(\" \"),_c('md-dialog-actions',[_c('md-button',{staticClass:\"md-primary\",on:{\"click\":function($event){_vm.setting.show = false}}},[_vm._v(\"关闭\")]),_vm._v(\" \"),_c('md-button',{staticClass:\"md-primary\",on:{\"click\":_vm.saveSetting}},[_vm._v(\"保存\")])],1)],1):(_vm.setting.state === 'edit-store')?_c('div',{key:\"edit-store\",staticClass:\"setting-view\"},[_c('md-dialog-title',[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('md-toolbar',{staticClass:\"md-primary\",attrs:{\"md-elevation\":\"1\"}},[_c('md-button',{staticClass:\"md-icon-button\",on:{\"click\":_vm.backToStores}},[_c('md-icon',[_vm._v(\"arrow_back\")])],1),_vm._v(\" \"),_c('h3',{staticClass:\"md-title\",staticStyle:{\"flex\":\"1\"}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('md-button',{staticClass:\"md-icon-button\",on:{\"click\":_vm.deleteStore}},[_c('md-icon',[_vm._v(\"delete\")])],1)],1),_vm._v(\" \"),_c('md-dialog-content',{staticClass:\"view-transition\"},[_c('md-field',{class:{'md-invalid': _vm.$v.setting.currentStore.name.$dirty && _vm.$v.setting.currentStore.name.$invalid}},[_c('label',[_vm._v(\"店名\")]),_vm._v(\" \"),_c('md-input',{on:{\"blur\":_vm.$v.setting.currentStore.name.$touch},model:{value:(_vm.setting.currentStore.name),callback:function ($$v) {_vm.$set(_vm.setting.currentStore, \"name\", $$v)},expression:\"setting.currentStore.name\"}}),_vm._v(\" \"),(!_vm.$v.setting.currentStore.name.required)?_c('span',{staticClass:\"md-error\"},[_vm._v(\"必须填写\")]):_vm._e()],1),_vm._v(\" \"),_c('md-field',[_c('label',[_vm._v(\"添加菜单\")]),_vm._v(\" \"),_c('md-input',{attrs:{\"placeholder\":\"菜单：空格隔开可添加多个\"},on:{\"keypress\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.addMenu($event)}},model:{value:(_vm.setting.tmpFoods),callback:function ($$v) {_vm.$set(_vm.setting, \"tmpFoods\", $$v)},expression:\"setting.tmpFoods\"}}),_vm._v(\" \"),_c('md-button',{staticClass:\"md-icon-button md-input-action\",on:{\"click\":_vm.addMenu}},[_c('md-icon',[_vm._v(\"send\")])],1)],1),_vm._v(\" \"),_c('p',[_vm._l((_vm.setting.currentStore.menu),function(food,index){return _c('md-chip',{key:index,staticClass:\"md-layout-item\",attrs:{\"md-deletable\":\"\"},on:{\"md-delete\":function($event){_vm.deleteFood(index)}}},[_vm._v(_vm._s(food))])}),_vm._v(\" \"),(_vm.setting.currentStore.menu.length)?_c('md-chip',{staticClass:\"md-accent md-layout-item\",attrs:{\"md-deletable\":\"\"},on:{\"md-delete\":_vm.clearMenu}},[_vm._v(\"清空\")]):_vm._e()],2)],1),_vm._v(\" \"),_c('md-dialog-actions',[_c('md-button',{staticClass:\"md-primary\",on:{\"click\":_vm.backToStores}},[_vm._v(\"返回\")]),_vm._v(\" \"),_c('md-button',{staticClass:\"md-accent\",on:{\"click\":_vm.deleteStore}},[_vm._v(\"删除\")])],1)],1):_vm._e()])],1)]),_vm._v(\" \"),_c('md-app-content',[_c('md-card',{staticClass:\"content-card\"},[_c('md-card-header',[_c('md-field',[_c('label',{attrs:{\"for\":\"favorite-store\"}},[_vm._v(\"店铺\")]),_vm._v(\" \"),_c('md-select',{attrs:{\"name\":\"favorite-store\",\"id\":\"favorite-store\",\"md-dense\":\"\"},model:{value:(_vm.favoriteStore),callback:function ($$v) {_vm.favoriteStore=$$v},expression:\"favoriteStore\"}},[_c('md-option',{attrs:{\"value\":\"all\"}},[_vm._v(\"随便，都行\")]),_vm._v(\" \"),_vm._l((_vm.stores),function(store,index){return _c('md-option',{key:index,attrs:{\"value\":index}},[_vm._v(_vm._s(store.name))])})],2)],1)],1),_vm._v(\" \"),_c('md-card-content',[(_vm.foods.length)?_c('p',{staticClass:\"result\"},[_vm._v(_vm._s(_vm.result || ' '))]):_c('md-empty-state',{attrs:{\"md-icon\":\"restaurant_menu\",\"md-label\":\"没有内容\",\"md-description\":\"当前选择下没有内容，你可以去添加一些。\"}},[_c('md-button',{staticClass:\"md-primary md-raised\",on:{\"click\":_vm.openSetting}},[_vm._v(\"添加\")])],1)],1)],1),_vm._v(\" \"),(_vm.foods.length)?_c('md-button',{staticClass:\"control-button fixed-fab md-fab md-plain\",on:{\"click\":_vm.toggle}},[_c('i',{staticClass:\"action-icon\",class:_vm.actionState})]):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1e2e1d38\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1e2e1d38\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1e2e1d38\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport VueMaterial from 'vue-material'\nimport 'vue-material/dist/vue-material.css'\nimport 'vue-material/dist/theme/default.css'\n\nVue.use(VueMaterial)\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}